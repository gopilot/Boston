function noop(e,t,n){n()}var utils=require("../utils"),_limit=require("./limit"),qs=require("qs");exports=module.exports=function(e){e=e||{};var t=e.limit?_limit(e.limit):noop;return function(n,r,i){return n._body?i():(n.body=n.body||{},"application/x-www-form-urlencoded"!=utils.mime(n)?i():(n._body=!0,t(n,r,function(t){if(t)return i(t);var r="";n.setEncoding("utf8"),n.on("data",function(e){r+=e}),n.on("end",function(){try{n.body=r.length?qs.parse(r,e):{},i()}catch(t){t.body=r,i(t)}})}),void 0))}};