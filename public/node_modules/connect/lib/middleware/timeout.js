var debug=require("debug")("connect:timeout");module.exports=function(e){return e=e||5e3,function(t,n,r){var i=setTimeout(function(){t.emit("timeout",e)},e);t.on("timeout",function(){if(t.headerSent)return debug("response started, cannot timeout");var n=new Error("Request timeout");n.timeout=e,n.status=408,r(n)}),t.clearTimeout=function(){clearTimeout(i)},n.on("header",function(){clearTimeout(i)}),r()}};