var fs=require("fs"),utils=require("../utils");module.exports=function(e,t){var n,t=t||{},e=e||__dirname+"/../public/favicon.ico",r=t.maxAge||864e5;return function(t,i,o){"/favicon.ico"==t.url?n?(i.writeHead(200,n.headers),i.end(n.body)):fs.readFile(e,function(e,t){return e?o(e):(n={headers:{"Content-Type":"image/x-icon","Content-Length":t.length,ETag:'"'+utils.md5(t)+'"',"Cache-Control":"public, max-age="+r/1e3},body:t},i.writeHead(200,n.headers),i.end(n.body),void 0)}):o()}};