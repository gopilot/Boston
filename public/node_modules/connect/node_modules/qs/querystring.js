!function(){function e(e,t){if(0==e[t].length)return e[t]={};var n={};for(var r in e[t])n[r]=e[t][r];return e[t]=n,n}function t(n,r,i,o){var s=n.shift();if(s){var a=r[i]=r[i]||[];"]"==s?Array.isArray(a)?""!=o&&a.push(o):"object"==typeof a?a[Object.keys(a).length]=o:a=r[i]=[r[i],o]:~s.indexOf("]")?(s=s.substr(0,s.length-1),!d.test(s)&&Array.isArray(a)&&(a=e(r,i)),t(n,a,s,o)):(!d.test(s)&&Array.isArray(a)&&(a=e(r,i)),t(n,a,s,o))}else Array.isArray(r[i])?r[i].push(o):r[i]="object"==typeof r[i]?o:"undefined"==typeof r[i]?o:[r[i],o]}function n(e,n,r){if(~n.indexOf("]")){{var i=n.split("[");i.length}t(i,e,"base",r)}else{if(!d.test(n)&&Array.isArray(e.base)){var o={};for(var s in e.base)o[s]=e.base[s];e.base=o}u(e.base,n,r)}return e}function r(e){var t={base:{}};return Object.keys(e).forEach(function(r){n(t,r,e[r])}),t.base}function i(e){return String(e).split("&").reduce(function(e,t){try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(r){}var i=t.indexOf("="),o=c(t),s=t.substr(0,o||i),a=t.substr(o||i,t.length),a=a.substr(a.indexOf("=")+1,a.length);return""==s&&(s=t,a=""),n(e,s,a)},{base:{}}).base}function o(e,t){if(!t)throw new TypeError("stringify expects an object");return t+"="+encodeURIComponent(e)}function s(e,t){var n=[];if(!t)throw new TypeError("stringify expects an object");for(var r=0;r<e.length;r++)n.push(f(e[r],t+"["+r+"]"));return n.join("&")}function a(e,t){for(var n,r=[],i=Object.keys(e),o=0,s=i.length;s>o;++o)n=i[o],r.push(f(e[n],t?t+"["+encodeURIComponent(n)+"]":encodeURIComponent(n)));return r.join("&")}function u(e,t,n){var r=e[t];void 0===r?e[t]=n:Array.isArray(r)?r.push(n):e[t]=[r,n]}function c(e){for(var t,n,r=e.length,i=0;r>i;++i)if(n=e[i],"]"==n&&(t=!1),"["==n&&(t=!0),"="==n&&!t)return i}var l=Object.prototype.toString,d=/^[0-9]+$/;exports.parse=function(e){return null==e||""==e?{}:"object"==typeof e?r(e):i(e)};var f=exports.stringify=function(e,t){return Array.isArray(e)?s(e,t):"[object Object]"==l.call(e)?a(e,t):"string"==typeof e?o(e,t):t+"="+e}}();